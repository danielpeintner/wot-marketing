---
layout: default
title: Web Conference Meetings
group: "navigation"
---
<div>
    <h2>W3C WoT â€“ Web Conference Meetings</h2>

<!-- include moment and one of the moment-timezone builds -->
<script src='https://cdn.jsdelivr.net/npm/moment@2.29.4/min/moment.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/moment-timezone@0.5.40/builds/moment-timezone-with-data.min.js'></script>

<!-- fullcalendar bundle -->
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

<!-- fullcalendar iCAL -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/ical.js/1.5.0/ical.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@fullcalendar/icalendar@6.1.8/index.global.min.js"></script>

<!-- the connector. must go AFTER moment-timezone -->
<script src='https://cdn.jsdelivr.net/npm/@fullcalendar/moment-timezone@6.1.8/index.global.min.js'></script>

<script>
	var icsEvents = [];
	var initialTimeZone = "America/New_York";

	document.addEventListener('DOMContentLoaded', function() {
		var timeZoneSelectorEl = document.getElementById("timezone_selector");
		var calendarEl = document.getElementById('calendar');
		var todayDate = moment().startOf("day");
		var YM = todayDate.format("YYYY-MM");
		// var YESTERDAY = todayDate.clone().subtract(1, "day").format("YYYY-MM-DD");
		var TODAY = todayDate.format("YYYY-MM-DD");
		// var TOMORROW = todayDate.clone().add(1, "day").format("YYYY-MM-DD");
		
		var calendar = new FullCalendar.Calendar(calendarEl, {
			timeZone: initialTimeZone, // 'Europe/Moscow',  'local' the default (unnecessary to specify)
			headerToolbar: {
				// left: "prev,next today",
				// center: "title",
				// right: "timeGridWeek,timeGridDay,listWeek" // dayGridMonth,
			},
			initialView: "timeGridWeek", // dayGridMonth, dayGridWeek, dayGridDay 
			initialDate: TODAY,
			/* validRange: {
				start: '2023-05-29',
				end: '2023-06-03'
			}, */
			// navLinks: true, // can click day/week names to navigate views
			editable: false,
			selectable: true,
			weekends: false,
			// dayMaxEvents: true, // allow "more" link when too many events
			events: {
				url: 'localCopy.ics',
				// url: 'https://www.w3.org/groups/ig/wot/calendar/export',
				format: 'ics'
			},
			/* events: [
				{
				  title  : 'event3',
				  start  : '2023-05-31T12:30:00',
				  end    : '2023-05-31T14:30:00',
				  allDay : false // will make the time show
				}
			  ], */
			eventTimeFormat: { hour: "numeric", minute: "2-digit" }, // timeZoneName: "short"
			dateClick: function(arg) {
				console.log(arg.date.toUTCString()); // use *UTC* methods on the native Date Object
				// will output something like 'Sat, 01 Sep 2018 00:00:00 GMT'
			},
			loading: function (isLoading) {
				if (isLoading) {
					// loading...
				} else {
					console.log("loading DONE, collect events !!!!!!!");
					initIcsEvents(calendar);
				}
			}
		});

		calendar.on('dateClick', function(info) {
		  console.log('clicked on ' + info.dateStr);
		});

		calendar.render();

		// Timezone Changer
		// Idea w.r.t. timezone taken from https://preview.keenthemes.com/html/metronic/docs/general/fullcalendar/timezone
		
		// when the timezone selector changes, dynamically change the calendar option
		$(timeZoneSelectorEl).on("change", function () {
			// calendar.setOption("timeZone", "UTC");
			// calendar.setOption("timeZone", "America/New_York");
			var localTimezoneOffset = new Date().getTimezoneOffset(); // in minutes e.g, -120
			// let diff = Number(this.value) + localTimezoneOffset;
			let newTZ = this.value;

			// update all events
			calendar.getEvents().forEach(event => {
				// console.log("" +  JSON.stringify(event));
				event.remove();
			});

			const format = "YYYY-MM-DDTHH:mm:ss";

			// Add events with new timezone offset
			icsEvents.forEach(event => {
				let localTZ = Intl.DateTimeFormat().resolvedOptions().timeZone;
				// see https://momentjs.com/timezone/ or https://momentjs.com/timezone/docs/
				let ms = moment.tz(event.start, localTZ); // initialTimeZone); // reports local time
				let me = moment.tz(event.end, localTZ); // initialTimeZone); // reports local time
				
				var start = ms.clone().tz(newTZ).format(format); // ms.add(diff, "minutes").format(format);
				var end;
				if (me) {
					end = me.clone().tz(newTZ).format(format); // me.add(diff, "minutes").format(format);
				}
				
				// TODO add repeat etc (does not work as expected) --> copy ?!?
				calendar.addEvent({
					title: event.title,
					start: start,
					end: end,
					// extendedProps: event.extendedProps
				});
			});

			calendar.render();
		});
		
		
	});
	
	function initIcsEvents(calendar) {
		console.log("Init ICS list");
		setTimeout(()=> {
			calendar.getEvents().forEach(event => {
				icsEvents.push(event);
				console.log(JSON.stringify(event));
			});
		}, 100);
	}
</script>
    <!-- <div class="alert alert-warning" role="alert">
      Note: Most calls during August, due to summer vacations, will be <a href="https://www.w3.org/WoT/IG/wiki/Main_WoT_WebConf#Cancellations">cancelled</a>.
    </div>-->
    <p>
        We have grouped our weekly meetings in the table below. We also recommend you to use <a rel="nofollow" class="external text"
                    href="https://www.w3.org/groups/ig/wot/calendar" target="_blank">the W3C calendar system</a> in order to download 
        ICS files for all our meetings. 
    </p>
	
	<!--begin::Localization dropdown-->
	<div class="mb-5">
		<label class="fs-4 fw-bold mb-3">Select a Timezone:</label>
		<select id="timezone_selector" class="form-select mw-200px" data-control="select2" data-placeholder="Select an option">
			<option value="America/Los_Angeles"                  >America/Los_Angeles</option>
			<option value="America/New_York" selected="selected" >America/New_York</option>
			<option value="UTC"                                  >UTC</option>
			<option value="Europe/London"                        >Europe/London</option>
			<option value="Europe/Paris"                         >Europe/Paris</option>
			<option value="Europe/Helsinki"                      >Europe/Helsinki</option>
			<option value="Asia/Singapore"                       >Asia/Singapore</option>
			<option value="Asia/Tokyo"                           >Asia/Tokyo</option>
			
			
		</select>
	</div>
	<!--end::Localization dropdown-->
	
	<div id='calendar'></div>
    
<script>
// 
</script>
    
    
</div>
